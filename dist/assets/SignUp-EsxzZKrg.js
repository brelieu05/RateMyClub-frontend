import{u as C,r as d,a as y,j as s,C as P,F as b,b as i,I as l,B as m,c as U,d as h,e as v,g as F,G as g,s as A,l as D}from"./index-DTtgBCc7.js";function S(){const{userData:u}=C(),[a,p]=d.useState({email:"",role:"club",firebase_uid:"",password:"",confirmPassword:""}),t=y();d.useEffect(()=>{u&&t("/")},[u,t]);const w=async()=>{const{email:e,password:r,confirmPassword:n}=a;try{if(r===n){if(await U(e,r,"/",t),h.currentUser){const o={...a,firebase_uid:h.currentUser.uid};await v(o)}}else console.log("Passwords must match")}catch(o){console.log(o)}},c=e=>{const{name:r,value:n}=e.target;p({...a,[r]:n})},f=async()=>{try{const e=F(),r=new g,o=(await A(e,r)).user,x=g.credential(o.accessToken),j=(await D(e.currentUser,x)).user;console.log("Anonymous account successfully upgraded",j)}catch(e){console.error("Error upgrading anonymous account",e)}};return s.jsx(s.Fragment,{children:s.jsxs(P,{children:[s.jsxs(b,{children:[s.jsx(i,{children:"Sign Up"}),s.jsx(l,{placeholder:"Email",name:"email",value:a.email,onChange:c}),s.jsx(i,{children:"Password"}),s.jsx(l,{type:"password",placeholder:"Password",name:"password",value:a.password,onChange:c}),s.jsx(i,{children:"Confirm Password"}),s.jsx(l,{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:a.confirmPassword,onChange:c}),s.jsx(m,{type:"submit",onClick:w,children:" Create Account "})]}),s.jsx(m,{my:"5",onClick:f,children:"Sign Up With Google"})]})})}export{S as default};

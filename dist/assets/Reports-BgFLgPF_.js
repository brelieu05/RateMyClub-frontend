import{h,i as R,j as e,k as f,m as g,n as y,o as A,p,q as C,r as d,u as _,a as N,H as k,t as S,V as b,T as r,D as T,S as D,v as u,B as m,w as G,x as B,y as E}from"./index-DTtgBCc7.js";var H=h(function(t,n){const{className:c,...l}=t,o=R();return e.jsx(f.div,{ref:n,className:g("chakra-card__body",c),__css:o.body,...l})}),v=h(function(t,n){const{columns:c,spacingX:l,spacingY:o,spacing:s,minChildWidth:a,...w}=t,j=y(),x=a?V(a,j):W(c);return e.jsx(A,{ref:n,gap:s,columnGap:l,rowGap:o,templateColumns:x,...w})});v.displayName="SimpleGrid";function $(i){return typeof i=="number"?`${i}px`:i}function V(i,t){return p(i,n=>{const c=C("sizes",n,$(n))(t);return n===null?null:`repeat(auto-fit, minmax(${c}, 1fr))`})}function W(i){return p(i,t=>t===null?null:`repeat(${t}, minmax(0, 1fr))`)}function z(){const[i,t]=d.useState([]),{userData:n}=_(),c=N();d.useEffect(()=>{(async()=>{(n==null?void 0:n.role)!=="admin"&&c("/login");const a=await G();t(a)})()},[]);const l=async(s,a)=>{await B(s,a),window.location.reload()},o=async(s,a)=>{await E(s,a),window.location.reload()};return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:"All Reports"}),e.jsx(v,{columns:"2",spacing:"4",m:"20",children:i.slice().reverse().map((s,a)=>e.jsx(S,{children:e.jsxs(H,{children:[e.jsxs(b,{children:[e.jsxs(r,{children:["Timestamp Reported: ",s.report_date]},"Date "+a),e.jsx(r,{children:"Reason for Report:"}),e.jsx(r,{children:s.report_description},"Report Description "+a)]}),e.jsx(T,{}),s.review&&s.review[0]?e.jsxs(D,{p:"5",children:[e.jsxs(u,{justifyContent:"space-evenly",children:[e.jsx(r,{children:s.review[0].club_name||"N/A"},"Club Name "+a),e.jsx(r,{children:s.review[0].class_year||"N/A"},"class_year "+a),e.jsx(r,{children:s.review[0].rating||"N/A"},"Rating "+a),e.jsx(r,{children:s.review[0].review_date||"N/A"},"Review Date "+a),e.jsx(r,{children:s.review[0].university||"N/A"},"University "+a)]}),e.jsx(r,{my:"4",textAlign:"center",children:s.review[0].description||"N/A"},"Review Description "+a)]}):e.jsx(r,{children:"No review data available"}),s.review&&s.review[0]&&e.jsxs(u,{children:[e.jsx(m,{backgroundColor:"lightgreen",onClick:()=>l(s.review[0].review_id,s.report_id),children:"Add Back Review"}),e.jsx(m,{backgroundColor:"tomato",onClick:()=>o(s.review[0].review_id,s.report_id),children:"Delete Review"})]})]})},"Card "+a))})]})}export{z as default};
